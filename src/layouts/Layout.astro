---
import '../styles/global.css';
import { SITE_CONFIG } from '../config/site';

interface Props {
  title: string;
  description?: string;
}

const { title, description = "Open Tech International - Advancing technology for global water solutions" } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="/images/logo.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Nunito+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <meta name="generator" content={Astro.generator} />
    <title>{title} | Open Tech International</title>
    <meta name="description" content={description} />
  </head>
  <body class="min-h-screen bg-white text-gray-900 antialiased font-sans">
    <header class="fixed top-0 w-full bg-white/80 backdrop-blur-sm border-b border-gray-200 z-50">
      <nav class="container mx-auto px-4 py-4">
        <div class="flex items-center justify-between">
          <a href="/" class="flex items-center gap-2">
            <img src="/images/logo.png" alt="OTI Logo" class="h-8 w-auto" />
            <span class="hidden md:inline text-xl font-semibold text-gray-900 font-display tracking-tight">Open Tech International</span>
            <span class="md:hidden text-xl font-semibold text-gray-900 font-display tracking-tight">OTI</span>
          </a>
          <div class="hidden md:flex space-x-8 font-display text-sm font-medium uppercase tracking-wide">
            <a href="/" class="text-gray-600 hover:text-gray-900">Home</a>
            <a href="/about" class="text-gray-600 hover:text-gray-900">About Us</a>
            <a href="/initiatives/water-systems-digital-transformation" class="text-gray-600 hover:text-gray-900">Initiatives</a>
            <a href="/actions" class="text-gray-600 hover:text-gray-900">Actions & Events</a>
            <a href="/#newsletter" class="text-gray-600 hover:text-gray-900">Newsletter</a>
            <a href="/#get-involved" class="text-gray-600 hover:text-gray-900">Join Our Work</a>
          </div>
          <button
            id="mobile-menu-button"
            class="md:hidden p-2 rounded-lg hover:bg-gray-100"
            aria-label="Toggle menu"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
        <!-- Mobile menu -->
        <div
          id="mobile-menu"
          class="hidden md:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-200"
        >
          <div class="container mx-auto px-4 py-4 space-y-4">
            <a href="/" class="block text-gray-600 hover:text-gray-900 py-2">Home</a>
            <a href="/about" class="block text-gray-600 hover:text-gray-900 py-2">About Us</a>
            <a href="/initiatives/water-systems-digital-transformation" class="block text-gray-600 hover:text-gray-900 py-2">Initiatives</a>
            <a href="/actions" class="block text-gray-600 hover:text-gray-900 py-2">Actions & Events</a>
            <a href="/#newsletter" class="block text-gray-600 hover:text-gray-900 py-2">Newsletter</a>
            <a href="/#get-involved" class="block text-gray-600 hover:text-gray-900 py-2">Join Our Work</a>
          </div>
        </div>
      </nav>
    </header>

    <main class="mt-16">
      <slot />
    </main>

    <footer class="bg-gray-50 border-t border-gray-200 mt-20">
      <div class="container mx-auto px-4 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="font-semibold mb-4">Open Tech International</h3>
            <p class="text-sm text-gray-600">Alaska, USA</p>
          </div>
          <div>
            <h4 class="font-semibold mb-4">Quick Links</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/about" class="text-gray-600 hover:text-gray-900">About</a></li>
              <li><a href="/about#team" class="text-gray-600 hover:text-gray-900">Team</a></li>
              <li><a href="/initiatives/water-systems-digital-transformation" class="text-gray-600 hover:text-gray-900">Water Systems Initiative</a></li>
              <li><a href="/actions" class="text-gray-600 hover:text-gray-900">Actions & Events</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold mb-4">Connect</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/#newsletter" class="text-gray-600 hover:text-gray-900">Newsletter</a></li>
              <li><a href="/contact" class="text-gray-600 hover:text-gray-900">Contact</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold mb-4">Support</h4>
            <ul class="space-y-2 text-sm">
              <li><a href={SITE_CONFIG.donateUrl} target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-gray-900">Donate</a></li>
              <li><a href="/volunteer" class="text-gray-600 hover:text-gray-900">Volunteer</a></li>
              <li><a href="/initiatives/water-systems-digital-transformation#for-water-and-sanitation-utilities" class="text-gray-600 hover:text-gray-900">Get Solutions</a></li>
            </ul>
          </div>
        </div>
        <div class="mt-8 pt-8 border-t border-gray-200 text-center text-sm text-gray-600">
          <p>&copy; {new Date().getFullYear()} Open Tech International. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');
      const mobileMenuLinks = document.querySelectorAll('#mobile-menu a');

      mobileMenuButton?.addEventListener('click', () => {
        mobileMenu?.classList.toggle('hidden');
      });

      // Close menu when clicking outside
      document.addEventListener('click', (event) => {
        if (!mobileMenuButton?.contains(event.target as Node) && !mobileMenu?.contains(event.target as Node)) {
          mobileMenu?.classList.add('hidden');
        }
      });

      // Close menu when clicking a menu item
      mobileMenuLinks.forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu?.classList.add('hidden');
        });
      });

      // Handle smooth scrolling for section links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', (e: Event) => {
          e.preventDefault();
          const targetId = anchor.getAttribute('href');
          if (targetId) {
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          }
        });
      });
    </script>
  </body>
</html>

<style is:global>
  :root {
    --accent: 136, 58, 234;
    --accent-light: 224, 204, 250;
    --accent-dark: 49, 10, 101;
    --accent-gradient: linear-gradient(
      45deg,
      rgb(var(--accent)),
      rgb(var(--accent-light)) 30%,
      white 60%
    );
  }

  /* Font families */
  .font-display {
    font-family: 'Montserrat', sans-serif;
  }

  .font-sans {
    font-family: 'Nunito Sans', sans-serif;
  }

  /* Apply display font to all headings */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Montserrat', sans-serif;
    letter-spacing: -0.02em;
    font-weight: 600;
  }

  /* Specific heading adjustments */
  h1 {
    letter-spacing: -0.03em;
    font-weight: 700;
  }

  /* Adjust body text for Nunito Sans */
  body {
    line-height: 1.7;
    font-weight: 400;
  }

  /* Tech-forward specific adjustments */
  .font-display {
    letter-spacing: -0.01em;
  }

  /* Make buttons and interactive elements more tech-forward */
  button, 
  .button,
  [type='button'] {
    font-family: 'Montserrat', sans-serif;
    font-weight: 500;
    letter-spacing: 0.025em;
  }
</style> 